<s4e-generic-list-view
  [loading]="
    (personQuery.selectLoading() | async)
    || (invitationQuery.selectLoading() | async)
  "
  [items]="users$ | async"
  [error]="personQuery.selectError() | async"
  [selectable]="false"
>
  <ng-container add-button>
    <button
      class="button button--secondary button--small"
      (click)="createInvitation()"
    >
      Wyślij zaproszenie
    </button>
  </ng-container>
  <ng-container caption i18n>Zarządzaj ludźmi</ng-container>
  <ng-container search-label i18n>Szukaj ludzi:</ng-container>
  <ng-container description>
    W tym miejscu masz możliwość edytowania, dodawania i usuwania osób,
    które mają dostęp do zasobów ustalonych dla Urzędu Miasta Kraków
  </ng-container>
  <ng-container table-header>
      <th i18n>Imię i nazwisko</th>
      <th i18n>Email</th>
      <th i18n>Akcje</th>
  </ng-container>
  <ng-template let-user="item">
    <td i18n>{{user.name}} {{user.surname}}</td>
    <td>{{user.email}}</td>
    <td>
      <ng-container *ngIf="isInvitation(user)">
        <a href="javascript:void(0)" (click)="resendTo(user)">
          <i class="fas fa-redo"></i>
        </a>
        <a href="javascript:void(0)" (click)="updateInvitation(user)">
          <img src="/assets/images/ico_edit.svg" alt="Edit" width="15"/>
        </a>
      </ng-container>

      <a href="javascript:void(0)" (click)="delete(user)">
        <img src="/assets/images/ico_delete.svg" alt="Delete" width="15"/>
      </a>
    </td>
  </ng-template>
</s4e-generic-list-view>
