<ng-container *ngIf="!(loading$ | async); else loadingRef">
  <section class="section search">
    <input class="search__input" placeholder="Wpisz szukaną miejscowość..." i18n-placeholder #searchPlacesInput
           [formControl]="searchFc"/>
    <button class="reset_search_button" (click)="resetSelectedLocation()">
      <fa-icon [icon]="['fas', 'times']"></fa-icon>
    </button>
    <button class="search__button" (click)="selectFirstResult()">
      <img src="../../../../assets/images/ico_magnifying.svg" alt="Search icon" i18n-alt/>
    </button>
  </section>
  <s4e-search-results *ngIf="searchResultsOpen$ | async"
                      [searchResults]="searchResults$ | async"
                      [loading]="searchResultsLoading$ | async"
                      (placeSelected)="navigateToPlace($event)"
                      class="searchResults">
  </s4e-search-results>

  <s4e-product-picker class="section"
                      caption="Produkty"
                      i18n-caption
                      [loading]="productsLoading$ | async"
                      [items]="products$ | async"
                      (itemSelected)="selectProduct($event)">
  </s4e-product-picker>

  <s4e-product-picker class="section layers"
                      caption="Warstwy"
                      i18n-caption
                      [loading]="overlaysLoading$ | async"
                      [items]="overlays$ | async"
                      (itemSelected)="selectOverlay($event)">
  </s4e-product-picker>


</ng-container>
<ng-template #loadingRef>
  <div class="loading loading--form">
    <div class="loading__item"></div>
    <div class="loading__item"></div>
    <div class="loading__item"></div>
    <div class="loading__item"></div>
    <div class="loading__item"></div>
    <div class="loading__item"></div>
  </div>
</ng-template>
