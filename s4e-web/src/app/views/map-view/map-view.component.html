<s4e-view-manager class="section sidebar"
                  [overlays]="overlays$ | async"
                  [userLoggedIn]="userLoggedIn$ | async"
                  [loading]="viewManagerLoading$ | async"
                  [overlaysLoading]="false"
                  [products]="productsTypeList$ | async"
                  [productsLoading]="productLoading$ | async"
                  (logout)="logout()"
                  (selectOverlay)="selectOverlay($event)"
                  (selectProduct)="selectProduct($event)"
                  (searchForPlaces)="serachForPlaces($event)"
                  [searchResults]="placeSearchResults$ | async"
                  [searchResultsLoading]="placeSearchLoading$ | async"
                  [searchResultsOpen]="placeSearchResultsOpen$ | async"
                  (searchResultClicked)="navigateToPlace($event)"
>
</s4e-view-manager>
<s4e-legend *ngIf="legend$ | async"
            [isOpen]="(legendState$ | async).isOpen"
            (opened)="toggleLegend()"
            [activeLegend]="legend$ | async"
            class="legend"></s4e-legend>

<s4e-timeline class="section timeline"
              *ngIf="(activeProducts$ | async) != null"
              [scenes]="scenes$ | async"
              [currentDate]="currentTimelineDate$ | async"
              (dateSelected)="setDate($event)"
              [availableDates]="availableDates$ | async"
              (loadAvailableDates)="loadAvailableDates($event)"
              [loading]="scenesAreLoading$ | async"
              [activeProduct]="activeScene$ | async"
              (selectedScene)="selectScene($event?.id)">
</s4e-timeline>

<s4e-map class="section map"
         [selectedLocation]="selectedLocation$"
         [overlays]="overlays$ | async"
         [activeScene]="activeScene$ | async"
>

</s4e-map>
